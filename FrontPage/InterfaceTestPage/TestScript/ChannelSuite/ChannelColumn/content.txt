#!define COMMAND_PATTERN {java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=1044 -cp %p %m}
!*> 测试用例
接口：action=column
参数：
 * cId 频道编号(标识)
 * start 记录开始值
 * end 记录结束值
 * token
接口描述：通过栏目类型标识(column_code)获取该栏目下数据，参数isFull=1，详见http://10.255.223.6/wiki/pages/viewpage.action?pageId=3933440
相关表：
 * media_column
 * media_column_content
  * order_value 排序
 * channel
  * channel_id 与表media_column_content中的sale_id对应
  * shelf_status  上下架状态(0:下架1:上架)  下线的频道接口不返回
  * sub_number 订阅数
|Comment|
|用例编号|前提条件|测试点|步骤|预期结果|运行环境|
|channelColumnCase01||频道接口都能正确返回数据|调用接口|返回的频道标题、描述、icon、订阅数与数据库数据一致|test，staging，online|
|channelColumnCase02||频道栏目为空|【当读后台】创建频道栏目，不添加书单，调用接口|书单为空的频道不返回|test|
|channelColumnCase03||频道栏目下添加频道|【当读后台】添加频道，调用接口|新添加的频道返回|test|
|channelColumnCase04||下线频道不返回|【审核后台】某频道为下线状态，调用接口|下线的频道不返回|test|
|channelColumnCase05||下线频道上线|【审核后台】某频道从下线状态变为上线状态，调用接口|上线的频道返回|test|
|channelColumnCase06|某频道书单为空|书单为空的频道不返回|【用户后台】把书单为空的频道添加到频道栏目，调用接口|书单为空的频道返回|test|
|channelColumnCase07||后台设置有效期|【当读后台】设置有效期，调用接口|过有效期的频道不返回|test|
|channelColumnCase08||后台设置|【当读后台】更改状态后，调用接口|强制有效的频道排序优先|test|
|channelColumnCase09||后台排序|【当读后台】设置排序值后，调用接口|按排序值由大到小返回|test|
|channelColumnCase10||参数columnType|columnType值为空|返回10002，参数columnType不存在|test，staging，online|
|channelColumnCase11||参数columnType|columnType值为无效值|返回10002|test，staging，online|
|channelColumnCase12||参数start|start值为空|返回10002|test，staging，online|
|channelColumnCase13||参数start|start值大于列表总数时|返回空数据|test，staging，online|
|channelColumnCase14||参数start|start值为无效值（*,字母，中文）|返回10002|test，staging，online|
|channelColumnCase15||参数end|end值为空|返回10002|test，staging，online|
|channelColumnCase16||参数end|end值为无效值（&,字母，中文）|返回10002|test，staging，online|
|channelColumnCase17||参数start和end|start值大于end值|返回10002|test，staging，online|
|channelColumnCase18||参数isFull|isFull值为空|返回10002|test，staging，online|
|channelColumnCase19||参数isFull|isFull为无效值(字符，字母，中文)|返回10002|test，staging，online|
|channelColumnCase20||删除频道|【当读后台】删除频道栏目下某频道，调用接口|删除的频道不返回|test|
|channelColumnCase21||删除频道栏目|【当读后台】删除频道，调用接口|10002|test|
*!
!*> 测试数据
!*> Import
!define TEST_SYSTEM {slim}
|Import|
|com.dangdang.readerV5.channel|
*!
!include .FrontPage.InterfaceTestPage.TestScript.ChannelSuite.ChannelColumn.ChannelColumnOnline
!*> channelColumnCase02 频道栏目为空，获取频道栏目
|script|channel column|
|note|后台创建一个新频道，type=0书籍 type=1频道|
|$columnType=|create with name|频道栏目|and code|interface_test|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|0|
|ensure|verify result|
*!
!*> channelColumnCase03 频道栏目下添加频道
|script|channel column|
|note|后台频道栏目中添加频道|
|insertChannelWithColumncode|$columnType|and size|10|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|0|
|ensure|verify result|
*!
!*> channelColumnCase04 下线频道不返回
|script|channel column|
|note|下线频道|
|$channelId=|setShelfStatusWithColumnCode|$columnType|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|0|
|ensure|verify result|
|check|verify channel|$channelId|true|
*!
!*> channelColumnCase05 上线频道返回
|script|channel column|
|note|上线频道|
|$channelId=|setStatusWithChannel|$channelId|and status|1|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|0|
|ensure|verify result|
*!
!*> channelColumnCase06 无书单的频道不返回
|script|channel column|
|note|频道下无书单|
|delBookListWithChannelId|17|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|0|
|ensure|verify result|
|check|verify channel|17|true|
*!
!*> channelColumnCase07 模拟后台设置有效期
|script|channel column|
|note|设置有效期|
|setEffectiveWithColumncode|$columnType|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|0|
|ensure|verify result|
*!
!*> channelColumnCase08 模拟后台设置状态
|script|channel column|
|note|设置为强制有效|
|setEffective|$columnType|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|0|
|ensure|verify result|

|script|channel column|
|note|设置为强制无效|
|setInvalidWithColumncode|$columnType|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|0|
|ensure|verify result|
*!
!*> channelColumnCase09 模拟后台设置排序值
|script|channel column|
|note|设置排序值|
|setSortWithColumncode|$columnType|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|0|
|ensure|verify result|
*!
!*> channelColumnCase20 模拟后台删除频道栏目下某频道
|script|channel column|
|note|删除频道栏目下某频道|
|$channelId=|delColumnDataWithColumncode|$columnType|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|0|
|ensure|verify result|
|check|verify channel|$channelId|true|
*!
!*> channelColumnCase21 模拟后台删除频道栏目
|script|channel column|
|note|删除频道栏目|
|delColumnWithColumncode|$columnType|
|setParameters|!{action:column,columnType:$columnType,start:0,end:9,isFull:1}|
|ensure|do get|10002|
*!
*!

!contents